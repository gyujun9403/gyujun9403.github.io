---
layout: post
title: "게임 서버 인강03_서브루틴 및 스택"
description: "리마인드용 이미지, 코드위주로"
date: 2022-02-09
tags: [assembly]
comments: true
share: true
---
## 2.1 컴퓨터 네트워크를 구성하는 기기
!()[https://media.fs.com/images/community/upload/kindEditor/202105/24/lan-switch-application-1621848069-kpDihgwSTn.jpg]
로컬 지역 네트워크 LAN : 네트워크 스위치 하나를 사에에 두고 별 모양으로 단말기가 연결되어있는 형태. star topology. 가운데 스워치로 데이터를 전달하고, 스위치는 목적지인 단말로 이를 전달.
OSI모델의 표준만 지켜주면 제조사/통신규약이 달라도 가능.
LAN이 성립하러면 OSI모델의 2 계층(Layer 2)를 지키면 되고, 이만 지켜준다면 회선의 종류(랜선, 무선, 전화선...)등등 상관이 없다.
### 2.1.1 OSI 모델
(좋은 정보 + 이미지)[https://www.stevenjlee.net/2020/02/09/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-osi-7%EA%B3%84%EC%B8%B5-%EA%B7%B8%EB%A6%AC%EA%B3%A0-tcp-ip-4%EA%B3%84%EC%B8%B5/]
[HW 영역]
1. 물리 계층(랜 카드)
    - 데이터의 전기적 신호의 형태 정의
    - 데이터가 bit단위로 전송
2. 데이터 링크 계층(L2스위치, 브릿지, 이더넷, 무선 랜 등.)
    - 물리적 링크를 통해 데이터를 잘 전송하는 계층 -> 1계층의 물리적 전송 오류 검출
    - MAC주소를 통해 전송 위치를 구분 -> LAN통신
    - 데이터가 프레임에 싸여짐
    - 프레임화(데이터 라벨링)
    - 레임을 만들거나 벗겨서 상위/하위 계층으로 전달.
3. 네트워크 계층(라우터, 일부 공유기 등)
    - 2계층에서 온 데이터를 패킷화 / 4계층에서 온 패킷데이터 해석
    - 라우터들를 통해 지정된 IP로 데이터 전달 -> WAN통신
4. 전송 계층(TCP/UDP, OS커널에 소프트웨어적으로 구현)
    - 종단(?)간 데이터 전송에 대한 전반적 조율 담당
    - 통신의 신뢰성을 보장하는 계층
    - 어떤 프로그램과 통신하는지 확인을 위해 포트번호가 사용됨.
    - 분할/흐름제어/오류제어/연결형작업|비연결형작업
5. 세션 계층

게임 프로그램을 만드는건 5~7계층 중 어딘가를 정의하는 것.

### 2.1.2 OSI 모델의 계층 2
각 단말기들은 LAN사이즈로 연결되며, 각각은 LAN내부에서 고유하다(MAC주소). 데이터를 헤더(주소)와 테일로 감싸서 프레임으로 만듦거나/이를 해석함.
### 2.1.3 OSI 모델의 계층 3
서로 다른 LAN이 연결된 WAN에서의 통신. 라우터(혹은 공유기)가 IP(인터넷 프로토콜)주소를 통해 적합한 경로를 탐색(라우팅)하여 LAN으로 데이터를 전달한다. LAN에서는 2L스위치나 공유기가 적합한 MAC주소를 가진 장비로 전달한다.

이때 3L단계에서의 데이터는 프레임에서 ~가 추가된 패킷의 형태이다.

## 2.2 인터넷
이러한 스위치와 라우터가 연결된 망 전체를 인터넷이라고 한다.
## 2.3 컴퓨터 네트워크 데이터
네트워크나 서버 앱을 개발할때 프레임이나 패킷을 직접 다룰일은 많이 없다(물리적인 장치가 알아서 처리하므로). 대신 스트림과 메시지라는 것을 많이 다루게 된다.
### 2.3.1 스트림 형식
### 2.3.2 메시지 형식
https://thebook.io/006884/ch02/04/
## 2.4 컴퓨터 네트워크 식별자
## 2.5 컴퓨터 네트워크의 품질과 특성
### 2.5.1 네트워크의 품질을 저해하는 것들
### 2.5.2 전송 속도와 전송 지연 시간
### 2.5.3 네트워크 품질 기준 세 가지
### 2.5.4 무선 네트워크의 품질
## 2.6 컴퓨터 네트워크에서 데이터 보내기와 받기
### 2.6.1 UDP 네트워킹
### 2.6.2 TCP 네트워킹
## 2.7 패킷 유실 시 UDP와 TCP에서 현상
## 2.8 주로 사용하는 메시지 형식
## 2.9 네트워크 주소 변환

https://mommoo.tistory.com/107

https://www.stevenjlee.net/2020/02/09/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-osi-7%EA%B3%84%EC%B8%B5-%EA%B7%B8%EB%A6%AC%EA%B3%A0-tcp-ip-4%EA%B3%84%EC%B8%B5/
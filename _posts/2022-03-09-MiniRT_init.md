https://github.com/Likilee/mini_raytracing_in_c

과제 개요
C를 이용해 레이트레이서를 만드는 과제.
레이트레이싱 : 물체가 보이는 물리적 현상을 실뮬레이션하는 가장 직접적인 방법

랜더링 : 3차원 공간의 객체를 2차원 화면인 하나의 장면으로 바꾸어 표현하는 것. 2차원으로 표시된 물최를 3차원 물체처럼 보이게 하는것.
- 변환 : 3차원 모델 좌표계의 정점들을 2차원 도멜 화면 좌표계로 바꾸는 것
- 색칠 : 객체의 색체/조명/매핑으로 원하는 효과로 표현하는것.

## 01. RGB PPM
ppm형식에 맞게 이미지 그라데이션을 만드는 실습.

## 02. 벡터 및 점, 색  자료형/연산 세팅.

필요한 연산 : 벡터 생성, 백터 값 변경, 벡터 크기 연산(double반환), 벡터끼리/좌표와의 합/차, 벡터의 스칼라 곱, 벡터의 스칼라 나누기(역수의 곱), 내적(벡터입력 double반환), 외적(벡터입력 벡터 반환), 단위벡터 구하기.

벡터는 방향과 크기를 가지고 있다. 

내적의 의미 : a dot b 연산의 경우, 
1. 두 벡터간의 사이각을 구할수 있음. -> 좌표값만 아는 경우 a_x * b_x + b_x * b_y = |a||b|cos(seta) 이므로...
2. 특정 벡터에 투영된 다른 벡터의 크기를 구할수 있다.
a벡터에 투영된 b벡터의 길이는 |b|cos(seta)이므로, |b|cos(seta) = (a_x * b_x + b_x * b_y) / |a|
3. 특정 대상이 특정 관점을 기준으로 누가 앞에 있는지 구할수 있음.
4. 특정 각도 내에 대상이 존재하는지 파악 가능.
5. 평면과의 최단거리를 구할때 사용 가능.

외적의 의미
1. 면의 법선벡터를 구할수 있음.
2. 빛의 방향과 평면의 법선사이의 각도를 이용해 평면에 적용될 빛의 영향 결정 가능.

??? : 벡터의 각 좌표값 끼리의 곱 -> 무슨연산이지???

## 03. 카메라 및 뷰포트
좌표계 오른손 좌표계 사용.

구조체
- 뷰포트 : 가로크기, 세로크기, 종횡비?
- 카메라 : 카메라 위치, 뷰포트, 카메라가 바라보는 벡터(거리, 방향 포함.)

![viewport](/images/42seoul/miniRT/viewport.png)

![camera](https://learnopengl.com/img/getting-started/camera_axes.png)
캔버스 가로/세로 벡터 기저벡터 구해야 하는거 아님????
우선, 뷰포트(캠버스)는 회전하기 않는다. 즉 우리가 고개를 들거나 돌리는 화면은 고려하더라도, 고개를 좌우로 꺽는(부표트 회전)은 가정하지 않는다. 이러한 가정 하에서 뷰포트의 단위벡터를 구할수 있는 아주 괜찮은 트릭 하나를 얻는다.
1. 카메라 방향벡터와 기존z좌표축 단위젝터를 외적한다. 그러면 horizion성분의 뷰포트 벡터를 얻을 수 있다.
2. horizion성분의 뷰포트 벡터와 카메라 방향벡터를 외적한다. 그러면 vertical성분의 뷰포트 벡터를 얻을 수 있다.
3. 뷰포트의 왼쪽 아래부터 우측 상단 픽셀까지 차례대로 채워나갈것 이므로...(방향 맞나?) 방금 구한 단위벡터들로부터 부표트 중앙에서 왼쪽 아래방향의 벡터를 만든다. 계산식은 (1 - width)horizion + (1 - height)vertical.
4. 카메라 방향벡터와 위에서 구한 좌하단을 가르키는 벡터를 더하면 뷰포트 좌 하단 정중앙을 가르키는 벡터를 알수 있다.
함수

## 04. 랜더링
랜더링이란?


![ray](https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Ray_trace_diagram.svg/300px-Ray_trace_diagram.svg.png) 출처 : 위키피디아

원래는 빛이 물체에 부딪혀서 반사된 빛을 보는것이다. 하지만 이 방법을 그대로 하면 카메라에 잡히지 않는 빛까지 모두 계산해야한다.
따라서 반대로 카메라로 부터 빛(ray)를 쏘고, 그것이 물체와 충돌하면 이를 뷰포트에 표시하는 방법이다.

1. (4.1) 카메라로부터 뷰포트 픽셀 중앙을 통과하는 벡터를 계산한다. -> camera_ray 벡터
2. (4.2) camera_ray가 특정 위치의 물체를 hit하는지 판단한다.
3. (4.3) hit하면 그 위치의 색을 계산하고 출력한다.

퐁 기법에서는 색은 (주변광 + 확산~ + 반사광) * 반사
필요한 요소 : 

이때 4.3의 색을 구하기 위한 부분은 다음과 같이 세분화 할 수 있다.
1. hit되는 위치가 앞/뒤인지 확인하고 법선벡터를 구한다.
2. 광원으로 부터 hit된 위치방향 벡터(광원 벡터)를 구한다.
2. 법선벡터와 광원벡터를 내적하여 

### 4.1 형태